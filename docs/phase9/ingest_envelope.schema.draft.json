{

  "$schema": "http://json-schema.org/draft-07/schema#",

  "title": "Ingestion Envelope (Draft)",

  "type": "object",

  "required": ["meta", "nodes", "edges"],

  "properties": {

    "meta": {

      "type": "object",

      "required": ["version", "source", "snapshot_path", "seed"],

      "properties": {

        "version": {"type": "string"},

        "source": {"type": "string"},

        "snapshot_path": {"type": "string"},

        "seed": {"type": "integer"},

        "created_at": {"type": "string"}

      },

      "additionalProperties": true

    },

    "nodes": {

      "type": "array",

      "items": {

        "type": "object",

        "required": ["id", "label"],

        "properties": {

          "id": {"type": "string"},

          "label": {"type": "string", "maxLength": 120},

          "type": {"type": "string", "maxLength": 40},

          "attrs": {"type": "object"}

        },

        "additionalProperties": true

      }

    },

    "edges": {

      "type": "array",

      "items": {

        "type": "object",

        "required": ["src", "dst", "rel_type"],

        "properties": {

          "src": {"type": "string"},

          "dst": {"type": "string"},

          "rel_type": {"type": "string", "maxLength": 40},

          "weight": {"type": "number", "minimum": 0, "maximum": 1}

        },

        "additionalProperties": true

      }

    }

  },

  "additionalProperties": false

}
