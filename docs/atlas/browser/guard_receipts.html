<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Guard Receipts Index — E91</title>
  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif; margin: 1.5rem; max-width: 1400px; }
    h1 { margin-bottom: 0.25rem; }
    .subtitle { color: #555; margin-bottom: 1rem; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; font-size: 0.9rem; }
    th, td { border-bottom: 1px solid #ddd; padding: 0.4rem 0.6rem; text-align: left; }
    th { background: #fafafa; font-weight: 600; }
    tr:hover { background: #f5f5ff; }
    .filters { display: flex; gap: 0.75rem; margin-top: 0.5rem; flex-wrap: wrap; }
    .filters input, .filters select {
      padding: 0.25rem 0.4rem;
      font-size: 0.9rem;
    }
    .status-ok { color: #0a7b33; font-weight: 600; }
    .status-fail { color: #b00020; font-weight: 600; }
    .badge { display: inline-block; background: #eef; border: 1px solid #ccd; border-radius: 4px; padding: 2px 8px; font-size: 0.85rem; margin-left: 0.5em; }
    .backlinks { background: #f5f5f5; padding: 1em; border-radius: 8px; margin: 1em 0; }
    .backlinks ul { list-style: none; padding: 0; }
    .backlinks li { margin: 0.5em 0; }
    .backlinks a { color: #0066cc; text-decoration: none; }
    .backlinks a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <h1>Guard Receipts Index <span class="badge">E91</span></h1>
  <div class="subtitle">
    PLAN-079 E91 · Generated at <code>2025-11-21T03:08:00.104467+00:00</code> · Files from <code>evidence/guard_*.json</code>
  </div>

  <div class="filters">
    <input id="search" type="text" placeholder="Search guard name or filename…" />
    <select id="statusFilter">
      <option value="">All statuses</option>
      <option value="ok">OK only</option>
      <option value="fail">Failures only</option>
    </select>
  </div>

  <table id="receiptsTable">
    <thead>
      <tr>
        <th>Guard</th>
        <th>Receipt File</th>
        <th>Status</th>
        <th>Timestamp</th>
      </tr>
    </thead>
    <tbody>
      <tr data-status='ok'><td class='guard-name'>guard_atlas_compliance_summary.json</td><td class='filename'>evidence/guard_atlas_compliance_summary.json</td><td class='status-ok'>ok</td><td class='timestamp'></td></tr>
<tr data-status='ok'><td class='guard-name'>guard_atlas_compliance_timeseries.json</td><td class='filename'>evidence/guard_atlas_compliance_timeseries.json</td><td class='status-ok'>ok</td><td class='timestamp'></td></tr>
<tr data-status='ok'><td class='guard-name'>guard_atlas_guard_receipts.json</td><td class='filename'>evidence/guard_atlas_guard_receipts.json</td><td class='status-ok'>ok</td><td class='timestamp'></td></tr>
<tr data-status='ok'><td class='guard-name'>guard_atlas_viewer.json</td><td class='filename'>evidence/guard_atlas_viewer.json</td><td class='status-ok'>ok</td><td class='timestamp'></td></tr>
<tr data-status='ok'><td class='guard-name'>guard_extraction_accuracy.json</td><td class='filename'>evidence/guard_extraction_accuracy.json</td><td class='status-ok'>ok</td><td class='timestamp'></td></tr>
<tr data-status='ok'><td class='guard-name'>guard_mcp_catalog.hint.prepush.json</td><td class='filename'>evidence/guard_mcp_catalog.hint.prepush.json</td><td class='status-ok'>ok</td><td class='timestamp'></td></tr>
<tr data-status='ok'><td class='guard-name'>guard_mcp_catalog.strict.prepush.json</td><td class='filename'>evidence/guard_mcp_catalog.strict.prepush.json</td><td class='status-ok'>ok</td><td class='timestamp'></td></tr>
<tr data-status='ok'><td class='guard-name'>guard_mcp_db_ro.final.json</td><td class='filename'>evidence/guard_mcp_db_ro.final.json</td><td class='status-ok'>ok</td><td class='timestamp'></td></tr>
<tr data-status='fail'><td class='guard-name'>guard_tagproof_phase2.json</td><td class='filename'>evidence/guard_tagproof_phase2.json</td><td class='status-fail'>fail</td><td class='timestamp'></td></tr>
    </tbody>
  </table>

  <div class="backlinks">
    <h2>Related Dashboards</h2>
    <ul>
      <li><a href="../dashboard/compliance_summary.html" data-testid="backlink-compliance-summary">Compliance Summary Dashboard (E86)</a></li>
      <li><a href="../dashboard/compliance_timeseries.html" data-testid="backlink-compliance-timeseries">Compliance Time-Series Dashboard (E87)</a></li>
      <li><a href="violations.html" data-testid="backlink-violations-browser">Violations Browser (E89)</a></li>
      <li><a href="../../../evidence" data-testid="backlink-evidence-dir">Evidence Directory</a></li>
      <li><a href="../../../share/atlas/control_plane/mcp_status_cards.json" data-testid="backlink-mcp-status-cards-json">MCP Status Cards (PLAN-072 M3)</a></li>
      <li><a href="../../../share/mcp/bundle_proof.json" data-testid="backlink-bundle-proof-json">E25 Bundle Proof</a></li>
    </ul>
  </div>

  <script>
    const searchInput = document.getElementById("search");
    const statusFilter = document.getElementById("statusFilter");
    const rows = Array.from(document.querySelectorAll("#receiptsTable tbody tr"));

    function applyFilters() {
      const q = searchInput.value.toLowerCase();
      const status = statusFilter.value;
      rows.forEach(row => {
        const text = row.innerText.toLowerCase();
        const rowStatus = row.getAttribute("data-status") || "";
        const matchesText = !q || text.includes(q);
        const matchesStatus = !status || rowStatus === status;
        row.style.display = (matchesText && matchesStatus) ? "" : "none";
      });
    }

    searchInput.addEventListener("input", applyFilters);
    statusFilter.addEventListener("change", applyFilters);
  </script>
</body>
</html>
