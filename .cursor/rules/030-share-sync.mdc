---
description: Always sync share directory after changes
alwaysApply: true
---

# Share Directory Synchronization (Always Required)

## Purpose
Keep `share/` directory synchronized with main codebase for documentation and tooling access.

## Automatic Housekeeping Integration
- **MANDATORY**: Run `make share.sync` IMMEDIATELY after ANY changes to docs, scripts, rules, or SHARE_MANIFEST.json
- **MANDATORY**: Check `share/evidence/` directory for new hint envelopes after sync operations
- **AUTOMATIC**: Validate all files in SHARE_MANIFEST.json exist and are accessible
- **AUTOMATIC**: Emit LOUD hints if share sync fails or produces unexpected results

## Requirements
- Run `make share.sync` after any changes to docs, scripts, or rules
- Share contains mirrored copies of key files for external access
- Manifest in `docs/SSOT/SHARE_MANIFEST.json` controls what gets synced

## When to Sync
- Documentation changes (README.md, AGENTS.md, ADRs)
- Script modifications or additions
- Rule changes (.cursor/rules/*.mdc)
- Makefile target additions
- SSOT schema updates
- Hint envelope generation (share/evidence/*.json)

## Verification
- `make share.sync` completes without errors
- Output shows "OK â€” share/ refreshed"
- Git status shows share/ changes ready for commit
- Check `share/evidence/` for new hint envelopes

## Mandatory Cross-References
- **Rule 006**: AGENTS.md governance (read before share operations)
- **Rule 058**: Auto-housekeeping (includes share sync validation)
- **Rule 061**: AI learning tracking (hint envelope detection)
- **docs/SSOT/SHARE_MANIFEST.json**: Share synchronization manifest
- **share/evidence/**: Hint envelope directory

## References
- docs/SSOT/SHARE_MANIFEST.json
- scripts/sync_share.py
- scripts/update_share.py
- Makefile (share.sync target)
